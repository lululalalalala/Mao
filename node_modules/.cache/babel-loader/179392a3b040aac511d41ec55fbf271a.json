{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopDefault(ex) {\n  return ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nvar numerify = _interopDefault(require('numerify'));\n\nvar utilsLite = require('utils-lite');\n\nvar getFormated = function getFormated(val, type, digit) {\n  var defaultVal = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '-';\n  if (isNaN(val)) return defaultVal;\n  if (!type) return val;\n  if (utilsLite.isFunction(type)) return type(val, numerify);\n  digit = isNaN(digit) ? 0 : ++digit;\n  var digitStr = '.[' + new Array(digit).join(0) + ']';\n  var formatter = type;\n\n  switch (type) {\n    case 'KMB':\n      formatter = digit ? '0,0' + digitStr + 'a' : '0,0a';\n      break;\n\n    case 'normal':\n      formatter = digit ? '0,0' + digitStr : '0,0';\n      break;\n\n    case 'percent':\n      formatter = digit ? '0,0' + digitStr + '%' : '0,0.[00]%';\n      break;\n  }\n\n  return numerify(val, formatter);\n};\n\nvar getStackMap = function getStackMap(stack) {\n  var stackMap = {};\n  Object.keys(stack).forEach(function (item) {\n    stack[item].forEach(function (name) {\n      stackMap[name] = item;\n    });\n  });\n  return stackMap;\n};\n\nvar $get = function $get(url) {\n  return new Promise(function (resolve, reject) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url);\n    xhr.send(null);\n\n    xhr.onload = function () {\n      resolve(JSON.parse(xhr.responseText));\n    };\n\n    xhr.onerror = function () {\n      reject(JSON.parse(xhr.responseText));\n    };\n  });\n};\n\nvar mapPromise = {};\n\nvar getMapJSON = function getMapJSON(_ref) {\n  var position = _ref.position,\n      positionJsonLink = _ref.positionJsonLink,\n      beforeRegisterMapOnce = _ref.beforeRegisterMapOnce,\n      mapURLProfix = _ref.mapURLProfix;\n  var link = positionJsonLink || '' + mapURLProfix + position + '.json';\n\n  if (!mapPromise[link]) {\n    mapPromise[link] = $get(link).then(function (res) {\n      if (beforeRegisterMapOnce) res = beforeRegisterMapOnce(res);\n      return res;\n    });\n  }\n\n  return mapPromise[link];\n};\n\nvar bmapPromise = null;\nvar amapPromise = null;\n\nvar getBmap = function getBmap(key, v) {\n  if (!bmapPromise) {\n    bmapPromise = new Promise(function (resolve, reject) {\n      var callbackName = 'bmap' + Date.now();\n      window[callbackName] = resolve;\n      var script = document.createElement('script');\n      script.src = ['https://api.map.baidu.com/api?v=' + (v || '2.0'), 'ak=' + key, 'callback=' + callbackName].join('&');\n      document.body.appendChild(script);\n    });\n  }\n\n  return bmapPromise;\n};\n\nvar getAmap = function getAmap(key, v) {\n  if (!amapPromise) {\n    amapPromise = new Promise(function (resolve, reject) {\n      var callbackName = 'amap' + Date.now();\n      window[callbackName] = resolve;\n      var script = document.createElement('script');\n      script.src = ['https://webapi.amap.com/maps?v=' + (v || '1.4.3'), 'key=' + key, 'callback=' + callbackName].join('&');\n      document.body.appendChild(script);\n    });\n  }\n\n  return amapPromise;\n};\n\nfunction setArrayValue(arr, index, value) {\n  if (arr[index] !== undefined) {\n    arr[index].push(value);\n  } else {\n    arr[index] = [value];\n  }\n}\n\nexports.getFormated = getFormated;\nexports.getStackMap = getStackMap;\nexports.$get = $get;\nexports.getMapJSON = getMapJSON;\nexports.getBmap = getBmap;\nexports.getAmap = getAmap;\nexports.setArrayValue = setArrayValue;","map":{"version":3,"names":["Object","defineProperty","exports","value","_interopDefault","ex","numerify","require","utilsLite","getFormated","val","type","digit","defaultVal","arguments","length","undefined","isNaN","isFunction","digitStr","Array","join","formatter","getStackMap","stack","stackMap","keys","forEach","item","name","$get","url","Promise","resolve","reject","xhr","XMLHttpRequest","open","send","onload","JSON","parse","responseText","onerror","mapPromise","getMapJSON","_ref","position","positionJsonLink","beforeRegisterMapOnce","mapURLProfix","link","then","res","bmapPromise","amapPromise","getBmap","key","v","callbackName","Date","now","window","script","document","createElement","src","body","appendChild","getAmap","setArrayValue","arr","index","push"],"sources":["D:/vue/Mao/node_modules/v-charts/lib/utils.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }\n\nvar numerify = _interopDefault(require('numerify'));\nvar utilsLite = require('utils-lite');\n\nvar getFormated = function getFormated(val, type, digit) {\n  var defaultVal = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '-';\n\n  if (isNaN(val)) return defaultVal;\n  if (!type) return val;\n  if (utilsLite.isFunction(type)) return type(val, numerify);\n\n  digit = isNaN(digit) ? 0 : ++digit;\n  var digitStr = '.[' + new Array(digit).join(0) + ']';\n  var formatter = type;\n  switch (type) {\n    case 'KMB':\n      formatter = digit ? '0,0' + digitStr + 'a' : '0,0a';\n      break;\n    case 'normal':\n      formatter = digit ? '0,0' + digitStr : '0,0';\n      break;\n    case 'percent':\n      formatter = digit ? '0,0' + digitStr + '%' : '0,0.[00]%';\n      break;\n  }\n  return numerify(val, formatter);\n};\n\nvar getStackMap = function getStackMap(stack) {\n  var stackMap = {};\n  Object.keys(stack).forEach(function (item) {\n    stack[item].forEach(function (name) {\n      stackMap[name] = item;\n    });\n  });\n  return stackMap;\n};\n\nvar $get = function $get(url) {\n  return new Promise(function (resolve, reject) {\n    var xhr = new XMLHttpRequest();\n    xhr.open('GET', url);\n    xhr.send(null);\n    xhr.onload = function () {\n      resolve(JSON.parse(xhr.responseText));\n    };\n    xhr.onerror = function () {\n      reject(JSON.parse(xhr.responseText));\n    };\n  });\n};\n\nvar mapPromise = {};\n\nvar getMapJSON = function getMapJSON(_ref) {\n  var position = _ref.position,\n      positionJsonLink = _ref.positionJsonLink,\n      beforeRegisterMapOnce = _ref.beforeRegisterMapOnce,\n      mapURLProfix = _ref.mapURLProfix;\n\n  var link = positionJsonLink || '' + mapURLProfix + position + '.json';\n  if (!mapPromise[link]) {\n    mapPromise[link] = $get(link).then(function (res) {\n      if (beforeRegisterMapOnce) res = beforeRegisterMapOnce(res);\n      return res;\n    });\n  }\n  return mapPromise[link];\n};\n\nvar bmapPromise = null;\nvar amapPromise = null;\n\nvar getBmap = function getBmap(key, v) {\n  if (!bmapPromise) {\n    bmapPromise = new Promise(function (resolve, reject) {\n      var callbackName = 'bmap' + Date.now();\n      window[callbackName] = resolve;\n      var script = document.createElement('script');\n      script.src = ['https://api.map.baidu.com/api?v=' + (v || '2.0'), 'ak=' + key, 'callback=' + callbackName].join('&');\n\n      document.body.appendChild(script);\n    });\n  }\n  return bmapPromise;\n};\n\nvar getAmap = function getAmap(key, v) {\n  if (!amapPromise) {\n    amapPromise = new Promise(function (resolve, reject) {\n      var callbackName = 'amap' + Date.now();\n      window[callbackName] = resolve;\n      var script = document.createElement('script');\n      script.src = ['https://webapi.amap.com/maps?v=' + (v || '1.4.3'), 'key=' + key, 'callback=' + callbackName].join('&');\n\n      document.body.appendChild(script);\n    });\n  }\n  return amapPromise;\n};\n\nfunction setArrayValue(arr, index, value) {\n  if (arr[index] !== undefined) {\n    arr[index].push(value);\n  } else {\n    arr[index] = [value];\n  }\n}\n\nexports.getFormated = getFormated;\nexports.getStackMap = getStackMap;\nexports.$get = $get;\nexports.getMapJSON = getMapJSON;\nexports.getBmap = getBmap;\nexports.getAmap = getAmap;\nexports.setArrayValue = setArrayValue;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}
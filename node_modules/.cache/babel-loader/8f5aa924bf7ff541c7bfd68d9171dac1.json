{"ast":null,"code":"require(\"core-js/modules/es.error.cause.js\");\n\nvar echarts = require('echarts/lib/echarts');\n\nvar layoutUtil = require('echarts/lib/util/layout');\n\nrequire('./WordCloudSeries');\n\nrequire('./WordCloudView');\n\nvar wordCloudLayoutHelper = require('./layout');\n\nif (!wordCloudLayoutHelper.isSupported) {\n  throw new Error('Sorry your browser not support wordCloud');\n} // https://github.com/timdream/wordcloud2.js/blob/c236bee60436e048949f9becc4f0f67bd832dc5c/index.js#L233\n\n\nfunction updateCanvasMask(maskCanvas) {\n  var ctx = maskCanvas.getContext('2d');\n  var imageData = ctx.getImageData(0, 0, maskCanvas.width, maskCanvas.height);\n  var newImageData = ctx.createImageData(imageData);\n  var toneSum = 0;\n  var toneCnt = 0;\n\n  for (var i = 0; i < imageData.data.length; i += 4) {\n    var alpha = imageData.data[i + 3];\n\n    if (alpha > 128) {\n      var tone = imageData.data[i] + imageData.data[i + 1] + imageData.data[i + 2];\n      toneSum += tone;\n      ++toneCnt;\n    }\n  }\n\n  var threshold = toneSum / toneCnt;\n\n  for (var i = 0; i < imageData.data.length; i += 4) {\n    var tone = imageData.data[i] + imageData.data[i + 1] + imageData.data[i + 2];\n    var alpha = imageData.data[i + 3];\n\n    if (alpha < 128 || tone > threshold) {\n      // Area not to draw\n      newImageData.data[i] = 0;\n      newImageData.data[i + 1] = 0;\n      newImageData.data[i + 2] = 0;\n      newImageData.data[i + 3] = 0;\n    } else {\n      // Area to draw\n      // The color must be same with backgroundColor\n      newImageData.data[i] = 255;\n      newImageData.data[i + 1] = 255;\n      newImageData.data[i + 2] = 255;\n      newImageData.data[i + 3] = 255;\n    }\n  }\n\n  ctx.putImageData(newImageData, 0, 0);\n}\n\necharts.registerLayout(function (ecModel, api) {\n  ecModel.eachSeriesByType('wordCloud', function (seriesModel) {\n    var gridRect = layoutUtil.getLayoutRect(seriesModel.getBoxLayoutParams(), {\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n    var data = seriesModel.getData();\n    var canvas = document.createElement('canvas');\n    canvas.width = gridRect.width;\n    canvas.height = gridRect.height;\n    var ctx = canvas.getContext('2d');\n    var maskImage = seriesModel.get('maskImage');\n\n    if (maskImage) {\n      try {\n        ctx.drawImage(maskImage, 0, 0, canvas.width, canvas.height);\n        updateCanvasMask(canvas);\n      } catch (e) {\n        console.error('Invalid mask image');\n        console.error(e.toString());\n      }\n    }\n\n    var sizeRange = seriesModel.get('sizeRange');\n    var rotationRange = seriesModel.get('rotationRange');\n    var valueExtent = data.getDataExtent('value');\n    var DEGREE_TO_RAD = Math.PI / 180;\n    var gridSize = seriesModel.get('gridSize');\n    wordCloudLayoutHelper(canvas, {\n      list: data.mapArray('value', function (value, idx) {\n        var itemModel = data.getItemModel(idx);\n        return [data.getName(idx), itemModel.get('textStyle.normal.textSize', true) || echarts.number.linearMap(value, valueExtent, sizeRange), idx];\n      }).sort(function (a, b) {\n        // Sort from large to small in case there is no more room for more words\n        return b[1] - a[1];\n      }),\n      fontFamily: seriesModel.get('textStyle.normal.fontFamily') || seriesModel.get('textStyle.emphasis.fontFamily') || ecModel.get('textStyle.fontFamily'),\n      fontWeight: seriesModel.get('textStyle.normal.fontWeight') || seriesModel.get('textStyle.emphasis.fontWeight') || ecModel.get('textStyle.fontWeight'),\n      gridSize: gridSize,\n      ellipticity: gridRect.height / gridRect.width,\n      minRotation: rotationRange[0] * DEGREE_TO_RAD,\n      maxRotation: rotationRange[1] * DEGREE_TO_RAD,\n      clearCanvas: !maskImage,\n      rotateRatio: 1,\n      rotationStep: seriesModel.get('rotationStep') * DEGREE_TO_RAD,\n      drawOutOfBound: seriesModel.get('drawOutOfBound'),\n      shuffle: false,\n      shape: seriesModel.get('shape')\n    });\n\n    function onWordCloudDrawn(e) {\n      var item = e.detail.item;\n\n      if (e.detail.drawn && seriesModel.layoutInstance.ondraw) {\n        e.detail.drawn.gx += gridRect.x / gridSize;\n        e.detail.drawn.gy += gridRect.y / gridSize;\n        seriesModel.layoutInstance.ondraw(item[0], item[1], item[2], e.detail.drawn);\n      }\n    }\n\n    canvas.addEventListener('wordclouddrawn', onWordCloudDrawn);\n\n    if (seriesModel.layoutInstance) {\n      // Dispose previous\n      seriesModel.layoutInstance.dispose();\n    }\n\n    seriesModel.layoutInstance = {\n      ondraw: null,\n      dispose: function () {\n        canvas.removeEventListener('wordclouddrawn', onWordCloudDrawn); // Abort\n\n        canvas.addEventListener('wordclouddrawn', function (e) {\n          // Prevent default to cancle the event and stop the loop\n          e.preventDefault();\n        });\n      }\n    };\n  });\n});\necharts.registerPreprocessor(function (option) {\n  var series = (option || {}).series;\n  !echarts.util.isArray(series) && (series = series ? [series] : []);\n  var compats = ['shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'];\n  echarts.util.each(series, function (seriesItem) {\n    if (seriesItem && seriesItem.type === 'wordCloud') {\n      var textStyle = seriesItem.textStyle || {};\n      compatTextStyle(textStyle.normal);\n      compatTextStyle(textStyle.emphasis);\n    }\n  });\n\n  function compatTextStyle(textStyle) {\n    textStyle && echarts.util.each(compats, function (key) {\n      if (textStyle.hasOwnProperty(key)) {\n        textStyle['text' + echarts.format.capitalFirst(key)] = textStyle[key];\n      }\n    });\n  }\n});","map":{"version":3,"names":["echarts","require","layoutUtil","wordCloudLayoutHelper","isSupported","Error","updateCanvasMask","maskCanvas","ctx","getContext","imageData","getImageData","width","height","newImageData","createImageData","toneSum","toneCnt","i","data","length","alpha","tone","threshold","putImageData","registerLayout","ecModel","api","eachSeriesByType","seriesModel","gridRect","getLayoutRect","getBoxLayoutParams","getWidth","getHeight","getData","canvas","document","createElement","maskImage","get","drawImage","e","console","error","toString","sizeRange","rotationRange","valueExtent","getDataExtent","DEGREE_TO_RAD","Math","PI","gridSize","list","mapArray","value","idx","itemModel","getItemModel","getName","number","linearMap","sort","a","b","fontFamily","fontWeight","ellipticity","minRotation","maxRotation","clearCanvas","rotateRatio","rotationStep","drawOutOfBound","shuffle","shape","onWordCloudDrawn","item","detail","drawn","layoutInstance","ondraw","gx","x","gy","y","addEventListener","dispose","removeEventListener","preventDefault","registerPreprocessor","option","series","util","isArray","compats","each","seriesItem","type","textStyle","compatTextStyle","normal","emphasis","key","hasOwnProperty","format","capitalFirst"],"sources":["D:/vue/Mao/node_modules/echarts-wordcloud/src/wordCloud.js"],"sourcesContent":["var echarts = require('echarts/lib/echarts');\nvar layoutUtil = require('echarts/lib/util/layout');\n\nrequire('./WordCloudSeries');\nrequire('./WordCloudView');\n\nvar wordCloudLayoutHelper = require('./layout');\n\nif (!wordCloudLayoutHelper.isSupported) {\n    throw new Error('Sorry your browser not support wordCloud');\n}\n\n// https://github.com/timdream/wordcloud2.js/blob/c236bee60436e048949f9becc4f0f67bd832dc5c/index.js#L233\nfunction updateCanvasMask(maskCanvas) {\n    var ctx = maskCanvas.getContext('2d');\n    var imageData = ctx.getImageData(\n        0, 0, maskCanvas.width, maskCanvas.height);\n    var newImageData = ctx.createImageData(imageData);\n\n    var toneSum = 0;\n    var toneCnt = 0;\n    for (var i = 0; i < imageData.data.length; i += 4) {\n        var alpha = imageData.data[i + 3];\n        if (alpha > 128) {\n            var tone = imageData.data[i]\n                + imageData.data[i + 1]\n                + imageData.data[i + 2];\n            toneSum += tone;\n            ++toneCnt;\n        }\n    }\n    var threshold = toneSum / toneCnt;\n\n    for (var i = 0; i < imageData.data.length; i += 4) {\n        var tone = imageData.data[i]\n            + imageData.data[i + 1]\n            + imageData.data[i + 2];\n        var alpha = imageData.data[i + 3];\n\n        if (alpha < 128 || tone > threshold) {\n            // Area not to draw\n            newImageData.data[i] = 0;\n            newImageData.data[i + 1] = 0;\n            newImageData.data[i + 2] = 0;\n            newImageData.data[i + 3] = 0;\n        }\n        else {\n            // Area to draw\n            // The color must be same with backgroundColor\n            newImageData.data[i] = 255;\n            newImageData.data[i + 1] = 255;\n            newImageData.data[i + 2] = 255;\n            newImageData.data[i + 3] = 255;\n        }\n    }\n\n    ctx.putImageData(newImageData, 0, 0);\n}\n\necharts.registerLayout(function (ecModel, api) {\n    ecModel.eachSeriesByType('wordCloud', function (seriesModel) {\n        var gridRect = layoutUtil.getLayoutRect(\n            seriesModel.getBoxLayoutParams(), {\n                width: api.getWidth(),\n                height: api.getHeight()\n            }\n        );\n        var data = seriesModel.getData();\n\n        var canvas = document.createElement('canvas');\n        canvas.width = gridRect.width;\n        canvas.height = gridRect.height;\n\n        var ctx = canvas.getContext('2d');\n        var maskImage = seriesModel.get('maskImage');\n        if (maskImage) {\n            try {\n                ctx.drawImage(maskImage, 0, 0, canvas.width, canvas.height);\n                updateCanvasMask(canvas);\n            }\n            catch (e) {\n                console.error('Invalid mask image');\n                console.error(e.toString());\n            }\n        }\n\n        var sizeRange = seriesModel.get('sizeRange');\n        var rotationRange = seriesModel.get('rotationRange');\n        var valueExtent = data.getDataExtent('value');\n\n        var DEGREE_TO_RAD = Math.PI / 180;\n        var gridSize = seriesModel.get('gridSize');\n        wordCloudLayoutHelper(canvas, {\n            list: data.mapArray('value', function (value, idx) {\n                var itemModel = data.getItemModel(idx);\n                return [\n                    data.getName(idx),\n                    itemModel.get('textStyle.normal.textSize', true)\n                        || echarts.number.linearMap(value, valueExtent, sizeRange),\n                    idx\n                ];\n            }).sort(function (a, b) {\n                // Sort from large to small in case there is no more room for more words\n                return b[1] - a[1];\n            }),\n            fontFamily: seriesModel.get('textStyle.normal.fontFamily')\n                || seriesModel.get('textStyle.emphasis.fontFamily')\n                || ecModel.get('textStyle.fontFamily'),\n            fontWeight: seriesModel.get('textStyle.normal.fontWeight')\n                || seriesModel.get('textStyle.emphasis.fontWeight')\n                || ecModel.get('textStyle.fontWeight'),\n            gridSize: gridSize,\n\n            ellipticity: gridRect.height / gridRect.width,\n\n            minRotation: rotationRange[0] * DEGREE_TO_RAD,\n            maxRotation: rotationRange[1] * DEGREE_TO_RAD,\n\n            clearCanvas: !maskImage,\n\n            rotateRatio: 1,\n\n            rotationStep: seriesModel.get('rotationStep') * DEGREE_TO_RAD,\n\n            drawOutOfBound: seriesModel.get('drawOutOfBound'),\n\n            shuffle: false,\n\n            shape: seriesModel.get('shape')\n        });\n\n        function onWordCloudDrawn(e) {\n            var item = e.detail.item;\n            if (e.detail.drawn && seriesModel.layoutInstance.ondraw) {\n                e.detail.drawn.gx += gridRect.x / gridSize;\n                e.detail.drawn.gy += gridRect.y / gridSize;\n                seriesModel.layoutInstance.ondraw(\n                    item[0], item[1], item[2], e.detail.drawn\n                );\n            }\n        }\n\n        canvas.addEventListener('wordclouddrawn', onWordCloudDrawn);\n\n        if (seriesModel.layoutInstance) {\n            // Dispose previous\n            seriesModel.layoutInstance.dispose();\n        }\n\n        seriesModel.layoutInstance = {\n            ondraw: null,\n\n            dispose: function () {\n                canvas.removeEventListener('wordclouddrawn', onWordCloudDrawn);\n                // Abort\n                canvas.addEventListener('wordclouddrawn', function (e) {\n                    // Prevent default to cancle the event and stop the loop\n                    e.preventDefault();\n                });\n            }\n        };\n    });\n});\n\necharts.registerPreprocessor(function (option) {\n    var series = (option || {}).series;\n    !echarts.util.isArray(series) && (series = series ? [series] : []);\n\n    var compats = ['shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY'];\n\n    echarts.util.each(series, function (seriesItem) {\n        if (seriesItem && seriesItem.type === 'wordCloud') {\n            var textStyle = seriesItem.textStyle || {};\n\n            compatTextStyle(textStyle.normal);\n            compatTextStyle(textStyle.emphasis);\n        }\n    });\n\n    function compatTextStyle(textStyle) {\n        textStyle && echarts.util.each(compats, function (key) {\n            if (textStyle.hasOwnProperty(key)) {\n                textStyle['text' + echarts.format.capitalFirst(key)] = textStyle[key];\n            }\n        });\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"var echarts = require('echarts/lib/echarts');\n\nfunction getShallow(model, path) {\n  return model && model.getShallow(path);\n}\n\necharts.extendChartView({\n  type: 'wordCloud',\n  render: function (seriesModel, ecModel, api) {\n    var group = this.group;\n    group.removeAll();\n    var data = seriesModel.getData();\n    var gridSize = seriesModel.get('gridSize');\n\n    seriesModel.layoutInstance.ondraw = function (text, size, dataIdx, drawn) {\n      var itemModel = data.getItemModel(dataIdx);\n      var textStyleModel = itemModel.getModel('textStyle.normal');\n      var emphasisTextStyleModel = itemModel.getModel('textStyle.emphasis');\n      var textEl = new echarts.graphic.Text({\n        style: echarts.graphic.setTextStyle({}, textStyleModel, {\n          x: drawn.info.fillTextOffsetX,\n          y: drawn.info.fillTextOffsetY + size * 0.5,\n          text: text,\n          textBaseline: 'middle',\n          textFill: data.getItemVisual(dataIdx, 'color'),\n          fontSize: size\n        }),\n        scale: [1 / drawn.info.mu, 1 / drawn.info.mu],\n        position: [(drawn.gx + drawn.info.gw / 2) * gridSize, (drawn.gy + drawn.info.gh / 2) * gridSize],\n        rotation: drawn.rot\n      });\n      group.add(textEl);\n      data.setItemGraphicEl(dataIdx, textEl);\n      echarts.graphic.setHoverStyle(textEl, echarts.graphic.setTextStyle({}, emphasisTextStyleModel, null, {\n        forMerge: true\n      }, true));\n    };\n\n    this._model = seriesModel;\n  },\n  remove: function () {\n    this.group.removeAll();\n\n    this._model.layoutInstance.dispose();\n  },\n  dispose: function () {\n    this._model.layoutInstance.dispose();\n  }\n});","map":{"version":3,"names":["echarts","require","getShallow","model","path","extendChartView","type","render","seriesModel","ecModel","api","group","removeAll","data","getData","gridSize","get","layoutInstance","ondraw","text","size","dataIdx","drawn","itemModel","getItemModel","textStyleModel","getModel","emphasisTextStyleModel","textEl","graphic","Text","style","setTextStyle","x","info","fillTextOffsetX","y","fillTextOffsetY","textBaseline","textFill","getItemVisual","fontSize","scale","mu","position","gx","gw","gy","gh","rotation","rot","add","setItemGraphicEl","setHoverStyle","forMerge","_model","remove","dispose"],"sources":["D:/vue/Mao/node_modules/echarts-wordcloud/src/WordCloudView.js"],"sourcesContent":["var echarts = require('echarts/lib/echarts');\n\nfunction getShallow(model, path) {\n    return model && model.getShallow(path);\n}\n\necharts.extendChartView({\n\n    type: 'wordCloud',\n\n    render: function (seriesModel, ecModel, api) {\n        var group = this.group;\n        group.removeAll();\n\n        var data = seriesModel.getData();\n\n        var gridSize = seriesModel.get('gridSize');\n\n        seriesModel.layoutInstance.ondraw = function (text, size, dataIdx, drawn) {\n            var itemModel = data.getItemModel(dataIdx);\n            var textStyleModel = itemModel.getModel('textStyle.normal');\n            var emphasisTextStyleModel = itemModel.getModel('textStyle.emphasis');\n\n            var textEl = new echarts.graphic.Text({\n                style: echarts.graphic.setTextStyle({}, textStyleModel, {\n                    x: drawn.info.fillTextOffsetX,\n                    y: drawn.info.fillTextOffsetY + size * 0.5,\n                    text: text,\n                    textBaseline: 'middle',\n                    textFill: data.getItemVisual(dataIdx, 'color'),\n                    fontSize: size\n                }),\n                scale: [1 / drawn.info.mu, 1 / drawn.info.mu],\n                position: [\n                    (drawn.gx + drawn.info.gw / 2) * gridSize,\n                    (drawn.gy + drawn.info.gh / 2) * gridSize\n                ],\n                rotation: drawn.rot\n            });\n\n            group.add(textEl);\n\n            data.setItemGraphicEl(dataIdx, textEl);\n\n            echarts.graphic.setHoverStyle(\n                textEl,\n                echarts.graphic.setTextStyle({}, emphasisTextStyleModel, null, {forMerge: true}, true)\n            );\n        };\n\n        this._model = seriesModel;\n    },\n\n    remove: function () {\n        this.group.removeAll();\n\n        this._model.layoutInstance.dispose();\n    },\n\n    dispose: function () {\n        this._model.layoutInstance.dispose();\n    }\n});\n"],"mappings":"AAAA,IAAIA,OAAO,GAAGC,OAAO,CAAC,qBAAD,CAArB;;AAEA,SAASC,UAAT,CAAoBC,KAApB,EAA2BC,IAA3B,EAAiC;EAC7B,OAAOD,KAAK,IAAIA,KAAK,CAACD,UAAN,CAAiBE,IAAjB,CAAhB;AACH;;AAEDJ,OAAO,CAACK,eAAR,CAAwB;EAEpBC,IAAI,EAAE,WAFc;EAIpBC,MAAM,EAAE,UAAUC,WAAV,EAAuBC,OAAvB,EAAgCC,GAAhC,EAAqC;IACzC,IAAIC,KAAK,GAAG,KAAKA,KAAjB;IACAA,KAAK,CAACC,SAAN;IAEA,IAAIC,IAAI,GAAGL,WAAW,CAACM,OAAZ,EAAX;IAEA,IAAIC,QAAQ,GAAGP,WAAW,CAACQ,GAAZ,CAAgB,UAAhB,CAAf;;IAEAR,WAAW,CAACS,cAAZ,CAA2BC,MAA3B,GAAoC,UAAUC,IAAV,EAAgBC,IAAhB,EAAsBC,OAAtB,EAA+BC,KAA/B,EAAsC;MACtE,IAAIC,SAAS,GAAGV,IAAI,CAACW,YAAL,CAAkBH,OAAlB,CAAhB;MACA,IAAII,cAAc,GAAGF,SAAS,CAACG,QAAV,CAAmB,kBAAnB,CAArB;MACA,IAAIC,sBAAsB,GAAGJ,SAAS,CAACG,QAAV,CAAmB,oBAAnB,CAA7B;MAEA,IAAIE,MAAM,GAAG,IAAI5B,OAAO,CAAC6B,OAAR,CAAgBC,IAApB,CAAyB;QAClCC,KAAK,EAAE/B,OAAO,CAAC6B,OAAR,CAAgBG,YAAhB,CAA6B,EAA7B,EAAiCP,cAAjC,EAAiD;UACpDQ,CAAC,EAAEX,KAAK,CAACY,IAAN,CAAWC,eADsC;UAEpDC,CAAC,EAAEd,KAAK,CAACY,IAAN,CAAWG,eAAX,GAA6BjB,IAAI,GAAG,GAFa;UAGpDD,IAAI,EAAEA,IAH8C;UAIpDmB,YAAY,EAAE,QAJsC;UAKpDC,QAAQ,EAAE1B,IAAI,CAAC2B,aAAL,CAAmBnB,OAAnB,EAA4B,OAA5B,CAL0C;UAMpDoB,QAAQ,EAAErB;QAN0C,CAAjD,CAD2B;QASlCsB,KAAK,EAAE,CAAC,IAAIpB,KAAK,CAACY,IAAN,CAAWS,EAAhB,EAAoB,IAAIrB,KAAK,CAACY,IAAN,CAAWS,EAAnC,CAT2B;QAUlCC,QAAQ,EAAE,CACN,CAACtB,KAAK,CAACuB,EAAN,GAAWvB,KAAK,CAACY,IAAN,CAAWY,EAAX,GAAgB,CAA5B,IAAiC/B,QAD3B,EAEN,CAACO,KAAK,CAACyB,EAAN,GAAWzB,KAAK,CAACY,IAAN,CAAWc,EAAX,GAAgB,CAA5B,IAAiCjC,QAF3B,CAVwB;QAclCkC,QAAQ,EAAE3B,KAAK,CAAC4B;MAdkB,CAAzB,CAAb;MAiBAvC,KAAK,CAACwC,GAAN,CAAUvB,MAAV;MAEAf,IAAI,CAACuC,gBAAL,CAAsB/B,OAAtB,EAA+BO,MAA/B;MAEA5B,OAAO,CAAC6B,OAAR,CAAgBwB,aAAhB,CACIzB,MADJ,EAEI5B,OAAO,CAAC6B,OAAR,CAAgBG,YAAhB,CAA6B,EAA7B,EAAiCL,sBAAjC,EAAyD,IAAzD,EAA+D;QAAC2B,QAAQ,EAAE;MAAX,CAA/D,EAAiF,IAAjF,CAFJ;IAIH,CA9BD;;IAgCA,KAAKC,MAAL,GAAc/C,WAAd;EACH,CA7CmB;EA+CpBgD,MAAM,EAAE,YAAY;IAChB,KAAK7C,KAAL,CAAWC,SAAX;;IAEA,KAAK2C,MAAL,CAAYtC,cAAZ,CAA2BwC,OAA3B;EACH,CAnDmB;EAqDpBA,OAAO,EAAE,YAAY;IACjB,KAAKF,MAAL,CAAYtC,cAAZ,CAA2BwC,OAA3B;EACH;AAvDmB,CAAxB"},"metadata":{},"sourceType":"script"}